{"code":"import { __awaiter } from \"tslib\";\nimport { input, select } from \"@inquirer/prompts\";\nimport { clone } from \"../utils/clone\";\nimport path from \"path\";\nimport fs from \"fs-extra\";\nexport const templates = new Map([\n    [\n        \"Vite-Vue3-TypeScript-Template\",\n        {\n            name: \"Vite-Vue3-TypeScript-Template\",\n            downloadUrl: \"https://github.com/ZhaoZhengQi/vue-template.git\",\n            description: \"Vue3+TypeScript+Vite模版\",\n            branch: \"vue3-template-ts\",\n        },\n    ],\n    [\n        \"Vite-Vue3-JavaScript-Template\",\n        {\n            name: \"Vite-Vue3-JavaScript-Template\",\n            downloadUrl: \"https://github.com/ZhaoZhengQi/vue-template.git\",\n            description: \"Vue3+JavaScript+Vite模版\",\n            branch: \"vue3-template-js\",\n        },\n    ],\n]);\n// 是否覆盖当前文件\nexport const isOverwrite = (projectName) => __awaiter(void 0, void 0, void 0, function* () {\n    return yield select({\n        message: `${projectName} 文件已存在,是否覆盖?`,\n        choices: [\n            {\n                name: \"覆盖\",\n                value: true,\n            },\n            {\n                name: \"取消\",\n                value: false,\n            },\n        ],\n    });\n});\nexport function create(projectName) {\n    return __awaiter(this, void 0, void 0, function* () {\n        // 初始化模版列表\n        const templateList = Array.from(templates).map((item) => {\n            const [name, info] = item;\n            return {\n                name,\n                value: name,\n                description: info.description,\n            };\n        });\n        if (!projectName) {\n            projectName = yield input({\n                message: \"请输入项目名称\",\n            });\n        }\n        // 文件是否已经存在\n        const filePath = path.resolve(process.cwd(), projectName);\n        if (fs.existsSync(filePath)) {\n            // 文件已存在\n            const run = yield isOverwrite(projectName);\n            if (run) {\n                fs.removeSync(filePath);\n            }\n            else {\n                return;\n            }\n        }\n        // 选择模版名称\n        const templateName = yield select({\n            message: \"请选择模版\",\n            choices: templateList,\n        });\n        const info = templates.get(templateName);\n        if (info) {\n            clone(info.downloadUrl, projectName, [\"-b\", info.branch]);\n        }\n    });\n}\n","references":["/Users/zhao/Desktop/total/github/zzq-cli/node_modules/.pnpm/@inquirer+prompts@7.0.0_@types+node@22.7.5/node_modules/@inquirer/prompts/dist/commonjs/index.d.ts","/Users/zhao/Desktop/total/github/zzq-cli/src/utils/clone.ts","/Users/zhao/Desktop/total/github/zzq-cli/node_modules/.pnpm/@types+fs-extra@11.0.4/node_modules/@types/fs-extra/index.d.ts"]}
